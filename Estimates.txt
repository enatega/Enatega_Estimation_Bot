{
  "metadata": {
    "platform": "Last Order (Enatega-based multivendor delivery)",
    "architecture": "Foodpanda / Uber Eats style",
    "tech_stack": {
      "mobile": "React Native",
      "web": "Next.js",
      "backend": "Node.js + Express",
      "database": "MongoDB",
      "ai": "LLM + Vector DB + Speech APIs"
    },
    "assumptions": {
      "developer_count": 1,
      "developer_level": "average full-stack",
      "legacy_backend_quality": "weak",
      "includes": [
        "backend",
        "database changes",
        "ui across all roles",
        "edge cases",
        "testing"
      ]
    },
    "units": "hours"
  },

  "customer_app_and_web": {
    "discovery_and_ui": {
      "new_discovery_page": 55
    },
    "lumi_ai_chatbot": {
      "total": 150,
      "breakdown": {
        "bottom_navigation_and_lumi_button": 10,
        "chat_ui": 12,
        "conversational_ordering_flow": 25,
        "backend_apis_and_db_memory": 18,
        "speech_to_text_en_ar": 10,
        "text_to_speech_en_ar": 10,
        "speech_to_speech": 15,
        "safe_language_and_profanity_filtering": 8,
        "suggestion_logic_and_carousels": 12,
        "ai_data_training_and_db_sync": 30
      }
    },
    "behavior_notifications_engagement": {
      "total": 50,
      "breakdown": {
        "event_tracking_setup": 12,
        "backend_refactoring": 18,
        "notification_scheduler": 10,
        "ai_triggers_and_personalization": 10
      }
    },
    "reviews_and_ratings": {
      "total": 34,
      "breakdown": {
        "customer_ui": 8,
        "admin_integration": 6,
        "store_panel_feedback": 5,
        "rider_rating_and_tipping": 5,
        "backend_workflows_and_triggers": 10
      }
    },
    "payments_wallet_loyalty": {
      "cancellation_and_refunds_with_wallet": {
        "total": 52,
        "breakdown": {
          "cancel_ui_and_triggers": 10,
          "refund_logic_multi_payment": 12,
          "wallet_creation_and_rules": 15,
          "admin_store_refund_review": 10,
          "rider_impact_handling": 5
        }
      },
      "qpay_payment_gateway": {
        "total": 33,
        "breakdown": {
          "credit_debit_integration": 10,
          "apple_pay_and_google_pay": 10,
          "security_tokens_and_compliance": 8,
          "refund_api_and_admin_logs": 5
        }
      },
      "loyalty_and_referral_program": {
        "total": 32,
        "breakdown": {
          "referral_code_logic": 10,
          "gift_card_flow": 10,
          "wallet_redemption_logic": 12
        }
      }
    },
    "subtotal": 406
  },

  "vendor_side": {
    "offer_management": 20,
    "product_flow_enhancements": 25,
    "product_promotion_requests": 15,
    "vendor_ai_analytics_dashboard": 60,
    "subtotal": 120
  },

  "admin_dashboard": {
    "partner_vendor_management": 20,
    "items_management": 18,
    "orders_management": 15,
    "lumi_ai_insights_and_analytics": 25,
    "paid_promotion_and_media_management": 28,
    "subtotal": 106
  },

  "ai_phased_packages": {
    "package_1": {
      "qpay_payment_method": 38,
      "cancellation_and_refunds_with_wallet": 60,
      "loyalty_and_referral_program": 40,
      "product_flow_enhancements": 25,
      "testing_and_deployment": 10
    },
    "package_2": {
      "offer_management": 25,
      "product_promotion_requests_vendor": 15,
      "paid_promotion_and_media_management_admin": 28,
      "new_discovery_page_customer": 55,
      "partner_management_admin": 25,
      "ai_planning_all_roles": 30
    },
    "package_3": {
      "ai_system_architecture_and_infrastructure": 40,
      "data_preparation_and_ai_training": 40,
      "lumi_ai_customer_ordering_features": 80,
      "testing_and_deployment": 10
    },
    "package_4": {
      "ai_push_notification_engine": 60,
      "post_delivery_review_popup": 40,
      "admin_items_management": 30,
      "admin_order_management": 20,
      "testing_and_deployment": 10
    },
    "package_5": {
      "ai_access_filters_and_real_time_sync": 20,
      "vendor_ai_analytics": 75,
      "admin_lumi_ai_insights": 40,
      "final_testing_and_production_deployment": 20
    }
  },

  "external_integrations": {
    "uber_eats_style_delivery_integration": {
      "min": 78,
      "max": 100
    },
    "ai_orchestration_for_integrations": {
      "min": 82,
      "max": 90
    },
    "integration_package_total": {
      "min": 160,
      "max": 190
    }
  },

  "totals": {
    "core_platform": 632,
    "with_integrations_min": 792,
    "with_integrations_max": 822
  },

  "estimation_rules_for_new_features": {
    "ui_only_single_app": "8-15",
    "ui_plus_backend_single_role": "20-35",
    "multi_role_feature": "35-60",
    "all_roles_feature": "50-80",
    "ai_simple_rule_based": "25-40",
    "ai_conversational_or_predictive": "60-120",
    "external_api_simple": "40-60",
    "external_api_complex": "80-120"
  }
}
